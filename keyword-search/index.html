<!doctype html>
<html>
    <head>
        <title>imjs search example</title>
        <meta charset="UTF-8"/>
        <meta name="description" content="Imjs search example"/>
        <script src="https://cdn.intermine.org/js/intermine/imjs/latest/im.min.js"></script>
    </head>
    <body>
        <p>This page has imjs loaded and runs a simple keyword search query on "bZIP" against LegumeMine when opened.</p>
        <p>Open your browser's console to check for errors.</p>
        <p>You can also use the console to invoke calls with <code>service</code> (connected to a mine) and <code>imjs</code>.</p>
        
        <pre id="result"></pre>
        
        <script>
         var service = new imjs.Service({
             root: 'https://mines.legumeinfo.org/legumemine/service'
         });
         var options = {
             q: "bZIP",
             size: 103,
             start: 20
         };
         service.search(options).then(function(data) {
             document.getElementById("result").innerHTML = JSON.stringify(data.results, null, 4);
         });
        </script>
    </body>
</html>
